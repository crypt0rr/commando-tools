<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class CSV::Table - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
  var index_rel_prefix = "../";
</script>

<script src="../js/navigation.js" defer></script>
<script src="../js/search.js" defer></script>
<script src="../js/search_index.js" defer></script>
<script src="../js/searcher.js" defer></script>
<script src="../js/darkfish.js" defer></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
<div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  <p class="link"><a href="../Object.html">Object</a>
</div>

    
<div id="includes-section" class="nav-section">
  <h3>Included Modules</h3>

  <ul class="link-list">
    <li><a class="include" href="../Enumerable.html">Enumerable</a>
  </ul>
</div>

    
<div id="extends-section" class="nav-section">
  <h3>Extended With Modules</h3>

  <ul class="link-list">
    <li><a class="extend" href="../Forwardable.html">Forwardable</a>
  </ul>
</div>

    
<!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    <li ><a href="#method-c-new">::new</a>
    <li ><a href="#method-i-3C-3C">#&lt;&lt;</a>
    <li ><a href="#method-i-3D-3D">#==</a>
    <li ><a href="#method-i-5B-5D">#[]</a>
    <li ><a href="#method-i-5B-5D-3D">#[]=</a>
    <li ><a href="#method-i-by_col">#by_col</a>
    <li ><a href="#method-i-by_col-21">#by_col!</a>
    <li ><a href="#method-i-by_col_or_row">#by_col_or_row</a>
    <li ><a href="#method-i-by_col_or_row-21">#by_col_or_row!</a>
    <li ><a href="#method-i-by_row">#by_row</a>
    <li ><a href="#method-i-by_row-21">#by_row!</a>
    <li ><a href="#method-i-delete">#delete</a>
    <li ><a href="#method-i-delete_if">#delete_if</a>
    <li ><a href="#method-i-dig">#dig</a>
    <li ><a href="#method-i-each">#each</a>
    <li ><a href="#method-i-headers">#headers</a>
    <li ><a href="#method-i-inspect">#inspect</a>
    <li ><a href="#method-i-push">#push</a>
    <li ><a href="#method-i-to_a">#to_a</a>
    <li ><a href="#method-i-to_csv">#to_csv</a>
    <li ><a href="#method-i-to_s">#to_s</a>
    <li ><a href="#method-i-values_at">#values_at</a>
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-CSV::Table">
  <h1 id="class-CSV::Table" class="class">
    class CSV::Table
  </h1>

  <section class="description">
    
<p>A <a href="Table.html"><code>CSV::Table</code></a> is a two-dimensional data structure for representing <a href="../CSV.html"><code>CSV</code></a> documents. Tables allow you to work with the data by row or column, manipulate the data, and even convert the results back to <a href="../CSV.html"><code>CSV</code></a>, if needed.</p>

<p>All tables returned by <a href="../CSV.html"><code>CSV</code></a> will be constructed from this class, if header row processing is activated.</p>

  </section>

  <section id="5Buntitled-5D" class="documentation-section">



    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      <div id="attribute-i-mode" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">mode</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        <p>The current access mode for indexing and iteration.</p>
        </div>
      </div>
      <div id="attribute-i-table" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">table</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        <p>Internal data format used to compare equality.</p>
        </div>
      </div>
    </section>


     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

      <div id="method-c-new" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(array_of_rows, headers: nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Constructs a new <a href="Table.html"><code>CSV::Table</code></a> from <code>array_of_rows</code>, which are expected to be <a href="Row.html"><code>CSV::Row</code></a> objects. All rows are assumed to have the same headers.</p>

<p>The optional <code>headers</code> parameter can be set to <a href="../Array.html"><code>Array</code></a> of headers. If headers aren&#39;t set, headers are fetched from <a href="Row.html"><code>CSV::Row</code></a> objects. Otherwise, headers() method will return headers being set in headers argument.</p>

<p>A <a href="Table.html"><code>CSV::Table</code></a> object supports the following <a href="../Array.html"><code>Array</code></a> methods through delegation:</p>
<ul><li>
<p>empty?()</p>
</li><li>
<p>length()</p>
</li><li>
<p>size()</p>
</li></ul>

          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 31</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>(<span class="ruby-identifier">array_of_rows</span>, <span class="ruby-value">headers:</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-ivar">@table</span> = <span class="ruby-identifier">array_of_rows</span>
  <span class="ruby-ivar">@headers</span> = <span class="ruby-identifier">headers</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@headers</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-ivar">@headers</span> = []
    <span class="ruby-keyword">else</span>
      <span class="ruby-ivar">@headers</span> = <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">headers</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@mode</span>  = <span class="ruby-value">:col_or_row</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

    </section>

     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

      <div id="method-i-3C-3C" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            table &lt;&lt; row_or_array &rarr; self
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>If <code>row_or_array</code> is a CSV::Row object, it is appended to the table:</p>

<pre class="ruby"><span class="ruby-identifier">source</span> = <span class="ruby-string">&quot;Name,Value\nfoo,0\nbar,1\nbaz,2\n&quot;</span>
<span class="ruby-identifier">table</span> = <span class="ruby-constant">CSV</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value">headers:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-identifier">table</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">CSV</span><span class="ruby-operator">::</span><span class="ruby-constant">Row</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">table</span>.<span class="ruby-identifier">headers</span>, [<span class="ruby-string">&#39;bat&#39;</span>, <span class="ruby-value">3</span>])
<span class="ruby-identifier">table</span>[<span class="ruby-value">3</span>] <span class="ruby-comment"># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bat&quot; &quot;Value&quot;:3&gt;</span>
</pre>

<p>If <code>row_or_array</code> is an Array, it is used to create a new CSV::Row object which is then appended to the table:</p>

<pre class="ruby"><span class="ruby-identifier">table</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-string">&#39;bam&#39;</span>, <span class="ruby-value">4</span>]
<span class="ruby-identifier">table</span>[<span class="ruby-value">4</span>] <span class="ruby-comment"># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bam&quot; &quot;Value&quot;:4&gt;</span>
</pre>

          <div class="method-source-code" id="3C-3C-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 370</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">&lt;&lt;</span>(<span class="ruby-identifier">row_or_array</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">row_or_array</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>  <span class="ruby-comment"># append Array</span>
    <span class="ruby-ivar">@table</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Row</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">headers</span>, <span class="ruby-identifier">row_or_array</span>)
  <span class="ruby-keyword">else</span>                         <span class="ruby-comment"># append Row</span>
    <span class="ruby-ivar">@table</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">row_or_array</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">self</span> <span class="ruby-comment"># for chaining</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-3D-3D" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">==</span><span
            class="method-args">(other)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Returns <code>true</code> if all each row of <code>self</code> <code>==</code> the corresponding row of <code>other_table</code>, otherwise, <code>false</code>.</p>

<p>The access mode does no affect the result.</p>

<p>Equal tables:</p>

<pre class="ruby"><span class="ruby-identifier">source</span> = <span class="ruby-string">&quot;Name,Value\nfoo,0\nbar,1\nbaz,2\n&quot;</span>
<span class="ruby-identifier">table</span> = <span class="ruby-constant">CSV</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value">headers:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-identifier">other_table</span> = <span class="ruby-constant">CSV</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value">headers:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-identifier">table</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other_table</span> <span class="ruby-comment"># =&gt; true</span>
</pre>

<p>Different row count:</p>

<pre class="ruby"><span class="ruby-identifier">other_table</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">2</span>)
<span class="ruby-identifier">table</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other_table</span> <span class="ruby-comment"># =&gt; false</span>
</pre>

<p>Different last row:</p>

<pre class="ruby"><span class="ruby-identifier">other_table</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-string">&#39;bat&#39;</span>, <span class="ruby-value">3</span>]
<span class="ruby-identifier">table</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other_table</span> <span class="ruby-comment"># =&gt; false</span>
</pre>

          <div class="method-source-code" id="3D-3D-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 563</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">==</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@table</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">table</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">CSV</span><span class="ruby-operator">::</span><span class="ruby-constant">Table</span>
  <span class="ruby-ivar">@table</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-5B-5D" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            table[n] &rarr; row
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        <div class="method-heading">
          <span class="method-callseq">
            table[range] &rarr; array_of_rows
          </span>
        </div>
        <div class="method-heading">
          <span class="method-callseq">
            table[header] &rarr; array_of_fields
          </span>
        </div>

        <div class="method-description">
          <p>Returns data from the table;  does not modify the table.</p>
<hr>

<p>The expression <code>table[n]</code>, where <code>n</code> is a non-negative Integer, returns the +n+th row of the table, if that row exists, and if the access mode is <code>:row</code> or <code>:col_or_row</code>:</p>

<pre class="ruby"><span class="ruby-identifier">source</span> = <span class="ruby-string">&quot;Name,Value\nfoo,0\nbar,1\nbaz,2\n&quot;</span>
<span class="ruby-identifier">table</span> = <span class="ruby-constant">CSV</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value">headers:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">by_row!</span> <span class="ruby-comment"># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;</span>
<span class="ruby-identifier">table</span>[<span class="ruby-value">1</span>] <span class="ruby-comment"># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;</span>
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">by_col_or_row!</span> <span class="ruby-comment"># =&gt; #&lt;CSV::Table mode:col_or_row row_count:4&gt;</span>
<span class="ruby-identifier">table</span>[<span class="ruby-value">1</span>] <span class="ruby-comment"># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;</span>
</pre>

<p>Counts backward from the last row if <code>n</code> is negative:</p>

<pre class="ruby"><span class="ruby-identifier">table</span>[<span class="ruby-value">-1</span>] <span class="ruby-comment"># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;</span>
</pre>

<p>Returns <code>nil</code> if <code>n</code> is too large or too small:</p>

<pre class="ruby"><span class="ruby-identifier">table</span>[<span class="ruby-value">4</span>] <span class="ruby-comment"># =&gt; nil</span>
<span class="ruby-identifier">table</span>[<span class="ruby-value">-4</span>] <span class="ruby-operator">=&gt;</span> <span class="ruby-keyword">nil</span>
</pre>

<p>Raises an exception if the access mode is <code>:row</code> and <code>n</code> is not an <a href="https://docs.ruby-lang.org/en/master/implicit_conversion_rdoc.html#label-Integer-Convertible+Objects">Integer-convertible object</a>.</p>

<pre class="ruby"><span class="ruby-identifier">table</span>.<span class="ruby-identifier">by_row!</span> <span class="ruby-comment"># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;</span>
<span class="ruby-comment"># Raises TypeError (no implicit conversion of String into Integer):</span>
<span class="ruby-identifier">table</span>[<span class="ruby-string">&#39;Name&#39;</span>]
</pre>
<hr>

<p>The expression <code>table[range]</code>, where <code>range</code> is a <a href="../Range.html"><code>Range</code></a> object, returns rows from the table, beginning at row <code>range.first</code>, if those rows exist, and if the access mode is <code>:row</code> or <code>:col_or_row</code>:</p>

<pre class="ruby"><span class="ruby-identifier">source</span> = <span class="ruby-string">&quot;Name,Value\nfoo,0\nbar,1\nbaz,2\n&quot;</span>
<span class="ruby-identifier">table</span> = <span class="ruby-constant">CSV</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value">headers:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">by_row!</span> <span class="ruby-comment"># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;</span>
<span class="ruby-identifier">rows</span> = <span class="ruby-identifier">table</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>] <span class="ruby-comment"># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;</span>
<span class="ruby-identifier">rows</span> <span class="ruby-comment"># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</span>
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">by_col_or_row!</span> <span class="ruby-comment"># =&gt; #&lt;CSV::Table mode:col_or_row row_count:4&gt;</span>
<span class="ruby-identifier">rows</span> = <span class="ruby-identifier">table</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>] <span class="ruby-comment"># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;</span>
<span class="ruby-identifier">rows</span> <span class="ruby-comment"># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</span>
</pre>

<p>If there are too few rows, returns all from <code>range.first</code> to the end:</p>

<pre class="ruby"><span class="ruby-identifier">rows</span> = <span class="ruby-identifier">table</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">50</span>] <span class="ruby-comment"># =&gt; #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;</span>
<span class="ruby-identifier">rows</span> <span class="ruby-comment"># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</span>
</pre>

<p>Special case:  if <code>range.start == table.size</code>, returns an empty Array:</p>

<pre class="ruby"><span class="ruby-identifier">table</span>[<span class="ruby-identifier">table</span>.<span class="ruby-identifier">size</span><span class="ruby-operator">..</span><span class="ruby-value">50</span>] <span class="ruby-comment"># =&gt; []</span>
</pre>

<p>If <code>range.end</code> is negative, calculates the ending index from the end:</p>

<pre class="ruby"><span class="ruby-identifier">rows</span> = <span class="ruby-identifier">table</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>]
<span class="ruby-identifier">rows</span> <span class="ruby-comment"># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</span>
</pre>

<p>If <code>range.start</code> is negative, calculates the starting index from the end:</p>

<pre class="ruby"><span class="ruby-identifier">rows</span> = <span class="ruby-identifier">table</span>[<span class="ruby-value">-1</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>]
<span class="ruby-identifier">rows</span> <span class="ruby-comment"># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</span>
</pre>

<p>If <code>range.start</code> is larger than <code>table.size</code>, returns <code>nil</code>:</p>

<pre class="ruby"><span class="ruby-identifier">table</span>[<span class="ruby-value">4</span><span class="ruby-operator">..</span><span class="ruby-value">4</span>] <span class="ruby-comment"># =&gt; nil</span>
</pre>
<hr>

<p>The expression <code>table[header]</code>, where <code>header</code> is a String, returns column values (Array of Strings) if the column exists and if the access mode is <code>:col</code> or <code>:col_or_row</code>:</p>

<pre class="ruby"><span class="ruby-identifier">source</span> = <span class="ruby-string">&quot;Name,Value\nfoo,0\nbar,1\nbaz,2\n&quot;</span>
<span class="ruby-identifier">table</span> = <span class="ruby-constant">CSV</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value">headers:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">by_col!</span> <span class="ruby-comment"># =&gt; #&lt;CSV::Table mode:col row_count:4&gt;</span>
<span class="ruby-identifier">table</span>[<span class="ruby-string">&#39;Name&#39;</span>] <span class="ruby-comment"># =&gt; [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]</span>
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">by_col_or_row!</span> <span class="ruby-comment"># =&gt; #&lt;CSV::Table mode:col_or_row row_count:4&gt;</span>
<span class="ruby-identifier">col</span> = <span class="ruby-identifier">table</span>[<span class="ruby-string">&#39;Name&#39;</span>]
<span class="ruby-identifier">col</span> <span class="ruby-comment"># =&gt; [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]</span>
</pre>

<p>Modifying the returned column values does not modify the table:</p>

<pre class="ruby"><span class="ruby-identifier">col</span>[<span class="ruby-value">0</span>] = <span class="ruby-string">&#39;bat&#39;</span>
<span class="ruby-identifier">col</span> <span class="ruby-comment"># =&gt; [&quot;bat&quot;, &quot;bar&quot;, &quot;baz&quot;]</span>
<span class="ruby-identifier">table</span>[<span class="ruby-string">&#39;Name&#39;</span>] <span class="ruby-comment"># =&gt; [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]</span>
</pre>

<p>Returns an Array of <code>nil</code> values if there is no such column:</p>

<pre class="ruby"><span class="ruby-identifier">table</span>[<span class="ruby-string">&#39;Nosuch&#39;</span>] <span class="ruby-comment"># =&gt; [nil, nil, nil]</span>
</pre>

          <div class="method-source-code" id="5B-5D-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 232</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">[]</span>(<span class="ruby-identifier">index_or_header</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:row</span> <span class="ruby-keyword">or</span>  <span class="ruby-comment"># by index</span>
     (<span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:col_or_row</span> <span class="ruby-keyword">and</span> (<span class="ruby-identifier">index_or_header</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Integer</span>) <span class="ruby-keyword">or</span> <span class="ruby-identifier">index_or_header</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Range</span>)))
    <span class="ruby-ivar">@table</span>[<span class="ruby-identifier">index_or_header</span>]
  <span class="ruby-keyword">else</span>                 <span class="ruby-comment"># by header</span>
    <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-5B-5D-3D" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">[]=</span><span
            class="method-args">(index_or_header, value)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>In the default mixed mode, this method assigns rows for index access and columns for header access. You can force the index association by first calling <a href="Table.html#method-i-by_col"><code>by_col</code></a>!() or <a href="Table.html#method-i-by_row"><code>by_row</code></a>!().</p>

<p>Rows may be set to an <a href="../Array.html"><code>Array</code></a> of values (which will inherit the table&#39;s headers()) or a <a href="Row.html"><code>CSV::Row</code></a>.</p>

<p>Columns may be set to a single value, which is copied to each row of the column, or an <a href="../Array.html"><code>Array</code></a> of values. Arrays of values are assigned to rows top to bottom in row major order. Excess values are ignored and if the <a href="../Array.html"><code>Array</code></a> does not have a value for each row the extra rows will receive a <code>nil</code>.</p>

<p>Assigning to an existing column or row clobbers the data. Assigning to new columns creates them at the right end of the table.</p>

          <div class="method-source-code" id="5B-5D-3D-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 257</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">[]=</span>(<span class="ruby-identifier">index_or_header</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:row</span> <span class="ruby-keyword">or</span>  <span class="ruby-comment"># by index</span>
     (<span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:col_or_row</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">index_or_header</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Integer</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>
      <span class="ruby-ivar">@table</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-constant">Row</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">headers</span>, <span class="ruby-identifier">value</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-ivar">@table</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">value</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>                 <span class="ruby-comment"># set column</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">index_or_header</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Integer</span>
      <span class="ruby-identifier">index</span> = <span class="ruby-ivar">@headers</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">index_or_header</span>) <span class="ruby-operator">||</span> <span class="ruby-ivar">@headers</span>.<span class="ruby-identifier">size</span>
      <span class="ruby-ivar">@headers</span>[<span class="ruby-identifier">index</span>] = <span class="ruby-identifier">index_or_header</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>  <span class="ruby-comment"># multiple values</span>
      <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span>, <span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">header_row?</span>
          <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">index_or_header</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">value</span>[<span class="ruby-identifier">i</span>]
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>                  <span class="ruby-comment"># repeated value</span>
      <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">header_row?</span>
          <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">index_or_header</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">row</span>[<span class="ruby-identifier">index_or_header</span>] = <span class="ruby-identifier">value</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-by_col" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">by_col</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Returns a duplicate table object, in column mode. This is handy for chaining in a single call without changing the table mode, but be aware that this method can consume a fair amount of memory for bigger data sets.</p>

<p>This method returns the duplicate table for chaining. Don&#39;t chain destructive methods (like []=()) this way though, since you are working with a duplicate.</p>

          <div class="method-source-code" id="by_col-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 66</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">by_col</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@table</span>.<span class="ruby-identifier">dup</span>).<span class="ruby-identifier">by_col!</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-by_col-21" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">by_col!</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Switches the mode of this table to column mode. All calls to indexing and iteration methods will work with columns until the mode is changed again.</p>

<p>This method returns the table and is safe to chain.</p>

          <div class="method-source-code" id="by_col-21-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 76</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">by_col!</span>
  <span class="ruby-ivar">@mode</span> = <span class="ruby-value">:col</span>

  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-by_col_or_row" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">by_col_or_row</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Returns a duplicate table object, in mixed mode. This is handy for chaining in a single call without changing the table mode, but be aware that this method can consume a fair amount of memory for bigger data sets.</p>

<p>This method returns the duplicate table for chaining.  Don&#39;t chain destructive methods (like []=()) this way though, since you are working with a duplicate.</p>

          <div class="method-source-code" id="by_col_or_row-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 91</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">by_col_or_row</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@table</span>.<span class="ruby-identifier">dup</span>).<span class="ruby-identifier">by_col_or_row!</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-by_col_or_row-21" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">by_col_or_row!</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Switches the mode of this table to mixed mode. All calls to indexing and iteration methods will use the default intelligent indexing system until the mode is changed again. In mixed mode an index is assumed to be a row reference while anything else is assumed to be column access by headers.</p>

<p>This method returns the table and is safe to chain.</p>

          <div class="method-source-code" id="by_col_or_row-21-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 103</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">by_col_or_row!</span>
  <span class="ruby-ivar">@mode</span> = <span class="ruby-value">:col_or_row</span>

  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-by_row" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">by_row</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Returns a duplicate table object, in row mode.  This is handy for chaining in a single call without changing the table mode, but be aware that this method can consume a fair amount of memory for bigger data sets.</p>

<p>This method returns the duplicate table for chaining.  Don&#39;t chain destructive methods (like []=()) this way though, since you are working with a duplicate.</p>

          <div class="method-source-code" id="by_row-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 118</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">by_row</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@table</span>.<span class="ruby-identifier">dup</span>).<span class="ruby-identifier">by_row!</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-by_row-21" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">by_row!</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Switches the mode of this table to row mode. All calls to indexing and iteration methods will work with rows until the mode is changed again.</p>

<p>This method returns the table and is safe to chain.</p>

          <div class="method-source-code" id="by_row-21-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 128</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">by_row!</span>
  <span class="ruby-ivar">@mode</span> = <span class="ruby-value">:row</span>

  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-delete" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            delete(*indexes) &rarr; deleted_values
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        <div class="method-heading">
          <span class="method-callseq">
            delete(*headers) &rarr; deleted_values
          </span>
        </div>

        <div class="method-description">
          <p>If the access mode is <code>:row</code> or <code>:col_or_row</code>, and each argument is either an Integer or a Range, returns deleted rows. Otherwise, returns deleted columns data.</p>

<p>In either case, the returned values are in the order specified by the arguments.  Arguments may be repeated.</p>
<hr>

<p>Returns rows as an Array of CSV::Row objects.</p>

<p>One index:</p>

<pre class="ruby"><span class="ruby-identifier">source</span> = <span class="ruby-string">&quot;Name,Value\nfoo,0\nbar,1\nbaz,2\n&quot;</span>
<span class="ruby-identifier">table</span> = <span class="ruby-constant">CSV</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value">headers:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-identifier">deleted_values</span> = <span class="ruby-identifier">table</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">0</span>)
<span class="ruby-identifier">deleted_values</span> <span class="ruby-comment"># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;]</span>
</pre>

<p>Two indexes:</p>

<pre class="ruby"><span class="ruby-identifier">table</span> = <span class="ruby-constant">CSV</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value">headers:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-identifier">deleted_values</span> = <span class="ruby-identifier">table</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">2</span>, <span class="ruby-value">0</span>)
<span class="ruby-identifier">deleted_values</span> <span class="ruby-comment"># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;]</span>
</pre>
<hr>

<p>Returns columns data as column Arrays.</p>

<p>One header:</p>

<pre class="ruby"><span class="ruby-identifier">table</span> = <span class="ruby-constant">CSV</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value">headers:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-identifier">deleted_values</span> = <span class="ruby-identifier">table</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&#39;Name&#39;</span>)
<span class="ruby-identifier">deleted_values</span> <span class="ruby-comment"># =&gt; [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]</span>
</pre>

<p>Two headers:</p>

<pre class="ruby"><span class="ruby-identifier">table</span> = <span class="ruby-constant">CSV</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value">headers:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-identifier">deleted_values</span> = <span class="ruby-identifier">table</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&#39;Value&#39;</span>, <span class="ruby-string">&#39;Name&#39;</span>)
<span class="ruby-identifier">deleted_values</span> <span class="ruby-comment"># =&gt; [[&quot;0&quot;, &quot;1&quot;, &quot;2&quot;], [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]]</span>
</pre>

          <div class="method-source-code" id="delete-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 442</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">delete</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">indexes_or_headers</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">indexes_or_headers</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;wrong number of arguments (given 0, expected 1+)&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">deleted_values</span> = <span class="ruby-identifier">indexes_or_headers</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">index_or_header</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:row</span> <span class="ruby-keyword">or</span>  <span class="ruby-comment"># by index</span>
        (<span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:col_or_row</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">index_or_header</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Integer</span>)
      <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">delete_at</span>(<span class="ruby-identifier">index_or_header</span>)
    <span class="ruby-keyword">else</span>                 <span class="ruby-comment"># by header</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">index_or_header</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Integer</span>
        <span class="ruby-ivar">@headers</span>.<span class="ruby-identifier">delete_at</span>(<span class="ruby-identifier">index_or_header</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-ivar">@headers</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">index_or_header</span>)
      <span class="ruby-keyword">end</span>
      <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">index_or_header</span>).<span class="ruby-identifier">last</span> }
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">indexes_or_headers</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
    <span class="ruby-identifier">deleted_values</span>[<span class="ruby-value">0</span>]
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">deleted_values</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-delete_if" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">delete_if</span><span
            class="method-args">() { |header, self| ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Removes rows or columns for which the block returns a truthy value; returns <code>self</code>.</p>

<p>Removes rows when the access mode is <code>:row</code> or <code>:col_or_row</code>; calls the block with each CSV::Row object:</p>

<pre class="ruby"><span class="ruby-identifier">source</span> = <span class="ruby-string">&quot;Name,Value\nfoo,0\nbar,1\nbaz,2\n&quot;</span>
<span class="ruby-identifier">table</span> = <span class="ruby-constant">CSV</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value">headers:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">by_row!</span> <span class="ruby-comment"># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;</span>
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">size</span> <span class="ruby-comment"># =&gt; 3</span>
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">delete_if</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">row</span>[<span class="ruby-string">&#39;Name&#39;</span>].<span class="ruby-identifier">start_with?</span>(<span class="ruby-string">&#39;b&#39;</span>) }
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">size</span> <span class="ruby-comment"># =&gt; 1</span>
</pre>

<p>Removes columns when the access mode is <code>:col</code>; calls the block with each column as a 2-element array containing the header and an Array of column fields:</p>

<pre class="ruby"><span class="ruby-identifier">source</span> = <span class="ruby-string">&quot;Name,Value\nfoo,0\nbar,1\nbaz,2\n&quot;</span>
<span class="ruby-identifier">table</span> = <span class="ruby-constant">CSV</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value">headers:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">by_col!</span> <span class="ruby-comment"># =&gt; #&lt;CSV::Table mode:col row_count:4&gt;</span>
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">headers</span>.<span class="ruby-identifier">size</span> <span class="ruby-comment"># =&gt; 2</span>
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">delete_if</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">column_data</span><span class="ruby-operator">|</span> <span class="ruby-identifier">column_data</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-string">&#39;2&#39;</span>) }
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">headers</span>.<span class="ruby-identifier">size</span> <span class="ruby-comment"># =&gt; 1</span>
</pre>

<p>Returns a new Enumerator if no block is given:</p>

<pre class="ruby"><span class="ruby-identifier">source</span> = <span class="ruby-string">&quot;Name,Value\nfoo,0\nbar,1\nbaz,2\n&quot;</span>
<span class="ruby-identifier">table</span> = <span class="ruby-constant">CSV</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value">headers:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">delete_if</span> <span class="ruby-comment"># =&gt; #&lt;Enumerator: #&lt;CSV::Table mode:col_or_row row_count:4&gt;:delete_if&gt;</span>
</pre>

          <div class="method-source-code" id="delete_if-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 492</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">delete_if</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">enum_for</span>(<span class="ruby-identifier">__method__</span>) { <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:row</span> <span class="ruby-keyword">or</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:col_or_row</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">size</span> } <span class="ruby-keyword">unless</span> <span class="ruby-identifier">block_given?</span>

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:row</span> <span class="ruby-keyword">or</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:col_or_row</span>  <span class="ruby-comment"># by index</span>
    <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">delete_if</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">else</span>                                      <span class="ruby-comment"># by header</span>
    <span class="ruby-identifier">deleted</span> = []
    <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">header</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">deleted</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">header</span>) <span class="ruby-keyword">if</span> <span class="ruby-keyword">yield</span>([<span class="ruby-identifier">header</span>, <span class="ruby-keyword">self</span>[<span class="ruby-identifier">header</span>]])
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">self</span> <span class="ruby-comment"># for chaining</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-dig" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">dig</span><span
            class="method-args">(index_or_header, *index_or_headers)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Extracts the nested value specified by the sequence of <code>index</code> or <code>header</code> objects by calling dig at each step, returning nil if any intermediate step is nil.</p>

          <div class="method-source-code" id="dig-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 602</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">dig</span>(<span class="ruby-identifier">index_or_header</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">index_or_headers</span>)
  <span class="ruby-identifier">value</span> = <span class="ruby-keyword">self</span>[<span class="ruby-identifier">index_or_header</span>]
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">index_or_headers</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">value</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:dig</span>)
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-node">&quot;#{value.class} does not have \#dig method&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">value</span>.<span class="ruby-identifier">dig</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">index_or_headers</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-each" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">each</span><span
            class="method-args">() { |header, self| ... }</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Calls the block with each row or column; returns <code>self</code>.</p>

<p>When the access mode is <code>:row</code> or <code>:col_or_row</code>, calls the block with each CSV::Row object:</p>

<pre class="ruby"><span class="ruby-identifier">source</span> = <span class="ruby-string">&quot;Name,Value\nfoo,0\nbar,1\nbaz,2\n&quot;</span>
<span class="ruby-identifier">table</span> = <span class="ruby-constant">CSV</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value">headers:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">by_row!</span> <span class="ruby-comment"># =&gt; #&lt;CSV::Table mode:row row_count:4&gt;</span>
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span> <span class="ruby-identifier">row</span> }
</pre>

<p>Output:</p>

<pre class="ruby"><span class="ruby-comment">#&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;</span>
<span class="ruby-comment">#&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;</span>
<span class="ruby-comment">#&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;</span>
</pre>

<p>When the access mode is <code>:col</code>, calls the block with each column as a 2-element array containing the header and an Array of column fields:</p>

<pre class="ruby"><span class="ruby-identifier">table</span>.<span class="ruby-identifier">by_col!</span> <span class="ruby-comment"># =&gt; #&lt;CSV::Table mode:col row_count:4&gt;</span>
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">column_data</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span> <span class="ruby-identifier">column_data</span> }
</pre>

<p>Output:</p>

<pre class="ruby">[<span class="ruby-string">&quot;Name&quot;</span>, [<span class="ruby-string">&quot;foo&quot;</span>, <span class="ruby-string">&quot;bar&quot;</span>, <span class="ruby-string">&quot;baz&quot;</span>]]
[<span class="ruby-string">&quot;Value&quot;</span>, [<span class="ruby-string">&quot;0&quot;</span>, <span class="ruby-string">&quot;1&quot;</span>, <span class="ruby-string">&quot;2&quot;</span>]]
</pre>

<p>Returns a new Enumerator if no block is given:</p>

<pre class="ruby"><span class="ruby-identifier">table</span>.<span class="ruby-identifier">each</span> <span class="ruby-comment"># =&gt; #&lt;Enumerator: #&lt;CSV::Table mode:col row_count:4&gt;:each&gt;</span>
</pre>

          <div class="method-source-code" id="each-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 533</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">enum_for</span>(<span class="ruby-identifier">__method__</span>) { <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:col</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">size</span> } <span class="ruby-keyword">unless</span> <span class="ruby-identifier">block_given?</span>

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:col</span>
    <span class="ruby-identifier">headers</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">header</span><span class="ruby-operator">|</span> <span class="ruby-keyword">yield</span>([<span class="ruby-identifier">header</span>, <span class="ruby-keyword">self</span>[<span class="ruby-identifier">header</span>]]) }
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">self</span> <span class="ruby-comment"># for chaining</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-headers" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">headers</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Returns the headers for the first row of this table (assumed to match all other rows). The headers <a href="../Array.html"><code>Array</code></a> passed to <a href="Table.html#method-c-new"><code>CSV::Table.new</code></a> is returned for empty tables.</p>

          <div class="method-source-code" id="headers-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 139</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">headers</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-ivar">@headers</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">headers</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-inspect" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">inspect</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Shows the mode and size of this table in a US-ASCII <a href="../String.html"><code>String</code></a>.</p>

          <div class="method-source-code" id="inspect-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 617</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">inspect</span>
  <span class="ruby-node">&quot;#&lt;#{self.class} mode:#{@mode} row_count:#{to_a.size}&gt;&quot;</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-string">&quot;US-ASCII&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-push" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            push(*rows_or_arrays) &rarr; self
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>A shortcut for appending multiple rows. Equivalent to:</p>

<pre class="ruby"><span class="ruby-identifier">rows</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-keyword">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">row</span> }
</pre>

<p>Each argument may be either a CSV::Row object or an Array:</p>

<pre class="ruby"><span class="ruby-identifier">source</span> = <span class="ruby-string">&quot;Name,Value\nfoo,0\nbar,1\nbaz,2\n&quot;</span>
<span class="ruby-identifier">table</span> = <span class="ruby-constant">CSV</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value">headers:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-identifier">rows</span> = [
  <span class="ruby-constant">CSV</span><span class="ruby-operator">::</span><span class="ruby-constant">Row</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">table</span>.<span class="ruby-identifier">headers</span>, [<span class="ruby-string">&#39;bat&#39;</span>, <span class="ruby-value">3</span>]),
  [<span class="ruby-string">&#39;bam&#39;</span>, <span class="ruby-value">4</span>]
]
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">rows</span>)
<span class="ruby-identifier">table</span>[<span class="ruby-value">3</span><span class="ruby-operator">..</span><span class="ruby-value">4</span>] <span class="ruby-comment"># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;bat&quot; &quot;Value&quot;:3&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;bam&quot; &quot;Value&quot;:4&gt;]</span>
</pre>

          <div class="method-source-code" id="push-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 396</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">push</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">rows</span>)
  <span class="ruby-identifier">rows</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-keyword">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">row</span> }

  <span class="ruby-keyword">self</span> <span class="ruby-comment"># for chaining</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-to_a" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">to_a</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Returns the table as an <a href="../Array.html"><code>Array</code></a> of Arrays. Headers will be the first row, then all of the field rows will follow.</p>

          <div class="method-source-code" id="to_a-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 572</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_a</span>
  <span class="ruby-identifier">array</span> = [<span class="ruby-identifier">headers</span>]
  <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">array</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">row</span>.<span class="ruby-identifier">fields</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">header_row?</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">array</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

      <div id="method-i-to_csv" class="method-detail ">
        <div class="method-heading">
          <span class="method-name">to_csv</span><span
            class="method-args">(write_headers: true, **options)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>

        <div class="method-description">
          <p>Returns the table as a complete <a href="../CSV.html"><code>CSV</code></a> <a href="../String.html"><code>String</code></a>. Headers will be listed first, then all of the field rows.</p>

<p>This method assumes you want the <a href="Table.html#method-i-headers"><code>Table.headers()</code></a>, unless you explicitly pass <code>:write_headers =&gt; false</code>.</p>

          <div class="method-source-code" id="to_csv-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 588</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_csv</span>(<span class="ruby-value">write_headers:</span> <span class="ruby-keyword">true</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">array</span> = <span class="ruby-identifier">write_headers</span> <span class="ruby-operator">?</span> [<span class="ruby-identifier">headers</span>.<span class="ruby-identifier">to_csv</span>(<span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)] <span class="ruby-operator">:</span> []
  <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">array</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">row</span>.<span class="ruby-identifier">fields</span>.<span class="ruby-identifier">to_csv</span>(<span class="ruby-operator">**</span><span class="ruby-identifier">options</span>)) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">header_row?</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">array</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>

        <div class="aliases">
          Also aliased as: <a href="Table.html#method-i-to_s">to_s</a>
        </div>

      </div>

      <div id="method-i-to_s" class="method-detail method-alias">
        <div class="method-heading">
          <span class="method-name">to_s</span><span
            class="method-args">(write_headers: true, **options)</span>
        </div>

        <div class="method-description">
          

        </div>


        <div class="aliases">
          Alias for: <a href="Table.html#method-i-to_csv">to_csv</a>
        </div>
      </div>

      <div id="method-i-values_at" class="method-detail ">
        <div class="method-heading">
          <span class="method-callseq">
            values_at(*indexes) &rarr; array_of_rows
          </span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        <div class="method-heading">
          <span class="method-callseq">
            values_at(*headers) &rarr; array_of_columns_data
          </span>
        </div>

        <div class="method-description">
          <p>If the access mode is <code>:row</code> or <code>:col_or_row</code>, and each argument is either an Integer or a Range, returns rows. Otherwise, returns columns data.</p>

<p>In either case, the returned values are in the order specified by the arguments.  Arguments may be repeated.</p>
<hr>

<p>Returns rows as an Array of CSV::Row objects.</p>

<p>No argument:</p>

<pre class="ruby"><span class="ruby-identifier">source</span> = <span class="ruby-string">&quot;Name,Value\nfoo,0\nbar,1\nbaz,2\n&quot;</span>
<span class="ruby-identifier">table</span> = <span class="ruby-constant">CSV</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">source</span>, <span class="ruby-value">headers:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-identifier">table</span>.<span class="ruby-identifier">values_at</span> <span class="ruby-comment"># =&gt; []</span>
</pre>

<p>One index:</p>

<pre class="ruby"><span class="ruby-identifier">values</span> = <span class="ruby-identifier">table</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-value">0</span>)
<span class="ruby-identifier">values</span> <span class="ruby-comment"># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;]</span>
</pre>

<p>Two indexes:</p>

<pre class="ruby"><span class="ruby-identifier">values</span> = <span class="ruby-identifier">table</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-value">2</span>, <span class="ruby-value">0</span>)
<span class="ruby-identifier">values</span> <span class="ruby-comment"># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;]</span>
</pre>

<p>One Range:</p>

<pre class="ruby"><span class="ruby-identifier">values</span> = <span class="ruby-identifier">table</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>)
<span class="ruby-identifier">values</span> <span class="ruby-comment"># =&gt; [#&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;, #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</span>
</pre>

<p>Ranges and indexes:</p>

<pre class="ruby"><span class="ruby-identifier">values</span> = <span class="ruby-identifier">table</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>, <span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>, <span class="ruby-value">0</span>, <span class="ruby-value">2</span>)
<span class="ruby-identifier">pp</span> <span class="ruby-identifier">values</span>
</pre>

<p>Output:</p>

<pre>[#&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;,
 #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;,
 #&lt;CSV::Row &quot;Name&quot;:&quot;bar&quot; &quot;Value&quot;:&quot;1&quot;&gt;,
 #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;,
 #&lt;CSV::Row &quot;Name&quot;:&quot;foo&quot; &quot;Value&quot;:&quot;0&quot;&gt;,
 #&lt;CSV::Row &quot;Name&quot;:&quot;baz&quot; &quot;Value&quot;:&quot;2&quot;&gt;]</pre>
<hr>

<p>Returns columns data as row Arrays, each consisting of the specified columns data for that row:</p>

<pre class="ruby"><span class="ruby-identifier">values</span> = <span class="ruby-identifier">table</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-string">&#39;Name&#39;</span>)
<span class="ruby-identifier">values</span> <span class="ruby-comment"># =&gt; [[&quot;foo&quot;], [&quot;bar&quot;], [&quot;baz&quot;]]</span>
<span class="ruby-identifier">values</span> = <span class="ruby-identifier">table</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-string">&#39;Value&#39;</span>, <span class="ruby-string">&#39;Name&#39;</span>)
<span class="ruby-identifier">values</span> <span class="ruby-comment"># =&gt; [[&quot;0&quot;, &quot;foo&quot;], [&quot;1&quot;, &quot;bar&quot;], [&quot;2&quot;, &quot;baz&quot;]]</span>
</pre>

          <div class="method-source-code" id="values_at-source">
            <pre><span class="ruby-comment"># File lib/csv/table.rb, line 342</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">values_at</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">indices_or_headers</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:row</span> <span class="ruby-keyword">or</span>  <span class="ruby-comment"># by indices</span>
     ( <span class="ruby-ivar">@mode</span> <span class="ruby-operator">==</span> <span class="ruby-value">:col_or_row</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">indices_or_headers</span>.<span class="ruby-identifier">all?</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
                                  <span class="ruby-identifier">index</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Integer</span>)         <span class="ruby-keyword">or</span>
                                  ( <span class="ruby-identifier">index</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Range</span>)         <span class="ruby-keyword">and</span>
                                    <span class="ruby-identifier">index</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Integer</span>) <span class="ruby-keyword">and</span>
                                    <span class="ruby-identifier">index</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Integer</span>) )
                                <span class="ruby-keyword">end</span> )
    <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">indices_or_headers</span>)
  <span class="ruby-keyword">else</span>                 <span class="ruby-comment"># by headers</span>
    <span class="ruby-ivar">@table</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span> <span class="ruby-identifier">row</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">indices_or_headers</span>) }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
        </div>


      </div>

    </section>

  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.3.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

